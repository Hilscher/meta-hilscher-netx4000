#@TYPE: Machine
#@NAME: ndeb4000-rev1
#@DESCRIPTION: Machine configuration for the NDEB4000 rev1 board
#@MAINTAINER: Hilscher Gesellschaft fuer Systemautomation mbH

BAREBOX_DEVICETREE ?= "netx4000/ndeb4000-rev1.dtb"
KERNEL_DEVICETREE ?= "netx4000/ndeb4000-rev1.dtb"

KERNEL_DEVICETREE_OVERLAYS ?= " \
	netx4000/overlays/uart1.dtbo \
	netx4000/overlays/can0.dtbo \
	netx4000/overlays/mdio0.dtbo:01_mdio0.dtbo \
	netx4000/overlays/gmac0.dtbo \
	netx4000/overlays/gmac1.dtbo \
	netx4000/overlays/pcie-rc.dtbo \
	netx4000/overlays/adc0.dtbo \
	netx4000/overlays/adc1.dtbo \
"

require ndcm4000-rev1.conf

# Use USB function port as serial console.
KERNEL_MODULE_AUTOLOAD_append_pn-linux-stable += "g_cdc"
KERNEL_MODULE_AUTOLOAD_append_pn-linux-rt-stable += "g_cdc"
SERIAL_CONSOLES += "115200;ttyGS0"
