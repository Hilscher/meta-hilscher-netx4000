#@TYPE: Machine
#@NAME: NXHX4000-JTAG+ board
#@DESCRIPTION: Machine configuration for the Hilscher NXHX4000-JTAG+ board
#@MAINTAINER: Hilscher Gesellschaft fuer Systemautomation mbH

require conf/machine/include/netx4000.inc

BAREBOX_DEVICETREE ?= "nxhx4000-jtag-plus_rev2.dts"
ENABLE_DDR_ECC ?= "yes"
SERIAL_CONSOLE = "115200 ttyAMA0"

IMAGE_CLASSES += "image-sdimg"
IMAGE_FSTYPES += "sdimg"

#############################################################################
# UBIFS settings
#############################################################################
# Compression: lzo (faster but larger), zlib (slower but smaller), none
UBI_COMPRESSION ?= "lzo"
UBI_VOLNAME ?= "rootfs"

# -c = max_leb_cnt -> increased to to error "Error: max_leb_cnt too low (2636 needed)"
MKUBIFS_ARGS ?= " -c 4096 -e 126976 -m 2048 -x ${UBI_COMPRESSION} -F"
UBINIZE_ARGS ?= " -m 2048 -p 128KiB -s 2048"
